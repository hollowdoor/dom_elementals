{"version":3,"file":"bundle.es.js","sources":["../src/lib/is.js","../src/lib/conversion.js","../src/lib/set.js","../src/lib/dom.js"],"sourcesContent":["import isObject from 'isobject';\nexport { isObject };\n//No such module\nexport function isDocumentFragment(v){\n    return (v + '') === '[object DocumentFragment]';\n}\n\nexport function isElemental(v){\n    return isDocumentFragment(v) || isElement(v);\n}\n\n//isElement exists as a module, but it's not viable\nexport function isElement(input) {\n\n  return (input != null)\n    && (typeof input === 'object')\n    && (input.nodeType === Node.ELEMENT_NODE)\n    && (typeof input.style === 'object')\n    && (typeof input.ownerDocument === 'object');\n}\n\nexport function isDate(v){\n    return Object.prototype.toString.call(v) === '[object Date]';\n}\n","import { isObject, isElement, isDocumentFragment, isDate } from './is.js';\n\nexport function toHTML(...values){\n\n    return values.map(v=>{\n        if(v === void 0) return '';\n\n        if(isObject(v) && v.hasOwnProperty('element')){\n            v = v.element;\n        }\n\n        if(typeof v === 'string'){\n            return v;\n        }\n\n        if(isElement(v)){\n            return v.outerHTML;\n        }else if(isDocumentFragment(v)){\n            let d = document.createElement('div');\n            d.appendChild(v.cloneNode(true));\n            return d.innerHTML;\n        }\n    }).join('');\n}\n\nexport function stringToFragment(str){\n    let d = document.createElement('div');\n    //A fragment allows a single source of entry\n    //to multiple children without a parent\n    let frag = document.createDocumentFragment();\n    //NOTE: Nested paragraph tags get screwed up in innerHTML.\n    //This also happens with other certain mixes of tags.\n    d.innerHTML = str;\n    while(d.firstChild){\n        frag.appendChild(d.firstChild);\n    }\n    return frag;\n}\n\nexport function stringToElement(str){\n    let frag = stringToFragment(str);\n    //Sometimes we can get away with a single child\n    if(frag.children.length === 1){\n        return frag.removeChild(frag.firstChild);\n    }\n    return frag;\n}\n\nconst localeOptions = {\n    weekday: 'short',\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n};\n\nconst language = window.navigator.userLanguage\n|| window.navigator.language;\n\nfunction toLocaleString(v){\n    try{\n        return v.toLocaleString(\n            language,\n            localeOptions\n        );\n    }catch(e){\n        return v + '';\n    }\n}\n\nexport function objectToString(v){\n    let str = '';\n    if(isDate(v)){\n        //Make it pretty when the date is a lone value\n        return toLocaleString(v);\n    }\n\n    if(v.constructor === Object){\n        //Let Date be the ISO standard for JSON objects\n        try{\n            return JSON.stringify(v, null, 2);\n        }catch(e){}\n    }\n    //All other objects are toStringed\n    //This way user space toString is considered\n    return v + '';\n}\n","import camelcase from 'camelcase';\n\nexport function setData(el, data){\n    if(!el.dataset) return;\n    Object.keys(data).forEach(\n        key=>el.dataset[camelcase(key)] = data[key]\n    );\n    return el;\n}\n\nexport function setAttributes(el, attributes){\n    if(!el.setAttribute) return;\n    if([3, //text\n        8, //comment\n        2  //attribute\n    ].indexOf(el.nodeType) !== -1) return;\n\n    Object.keys(attributes).forEach(key=>{\n        el.setAttribute(key, attributes[key] + '');\n    });\n    return el;\n}\n\nexport function setStyles(el, styles){\n    let allstyles = window.getComputedStyle(el);\n    if(!el.style) return;\n    Object.keys(styles).forEach(key=>{\n        if(allstyles[key] === void 0){\n            el.style.setProperty(\n                '--'+decamelize(key, '-'),\n                styles[key] + ''\n            );\n            return;\n        }\n        el.style[camelcase(key)] = styles[key] + '';\n    });\n}\n","import isArrayLike from 'is-array-like';\nimport arrayFrom from 'array-from';\n//import isObject from 'isobject';\nimport camelcase from 'camelcase';\nimport {\n    stringToElement, toHTML, objectToString\n} from './conversion.js';\nimport {\n    setData, setAttributes, setStyles\n} from './set.js';\nimport {\n    isObject, isDocumentFragment, isElement, isElemental\n} from './is.js';\n\nexport { toHTML };\n\nexport function toElement(v, ...values){\n\n    if(typeof v !== 'string' && isArrayLike(v)){\n\n        v = arrayFrom(v);\n\n        if(values.length){\n            let html = v.reduce((html, str, i)=>{\n                return html + str + toHTML(values[i]);\n            }, '');\n            return convert(html);\n        }\n\n        return v.reduce((frag, value)=>{\n            frag.appendChild(convert(value));\n            return frag;\n        }, document.createDocumentFragment());\n\n    }\n\n    return convert(v);\n}\n\nexport function convert(v){\n\n    if(isObject(v)){\n        if(v.hasOwnProperty('element')) v = v.element;\n\n        if(isObject(v)){\n            if(isElemental(v) || v === document){\n                return v;\n            }\n\n            if(v.hasOwnProperty('tag')){\n                return objectToDOM(v);\n            }\n\n            v = objectToString(v);\n        }\n    }\n\n    try{\n        let el = document.querySelector(v);\n        if(el) return el;\n    }catch(e){}\n\n    return stringToElement(v);\n}\n\n\nexport function objectToDOM(obj){\n\n    let el, parentNode = null, keys = Object.keys(obj), index;\n\n    const hadKey = key=>{\n        if((index = keys.indexOf(key + '')) !== -1){\n            keys.splice(index, 1);\n            return true;\n        }\n        return false;\n    };\n\n    if(hadKey('tag')){\n        el = document.createElement(obj.tag.toLowerCase());\n    }else{\n        throw new Error('obj must have a \"tag\" property with a DOM tag name');\n    }\n\n    if(hadKey('attributes') && isObject(obj.attributes)){\n        setAttributes(el, obj.attributes);\n    }\n\n    if(hadKey('data') && isObject(obj.data)){\n        setData(el, obj.data);\n    }\n\n    if(hadKey('innerHTML')){\n        el.innerHTML = toHTML(obj.innerHTML);\n    }\n\n    if(hadKey('head')){\n        el.appendChild(toElement(obj.head));\n    }\n\n    if(hadKey('children') && isArrayLike(obj.children)){\n        appendChildren(el, obj.children);\n    }\n\n    if(hadKey('foot')){\n        el.appendChild(toElement(obj.foot));\n    }\n\n    if(hadKey('style') && isObject(obj.style)){\n        setStyles(el, obj.style);\n    }\n\n    if(hadKey('parent')){\n        parentNode = toElement(obj.parent);\n    }\n\n    keys.forEach(key=>{\n        if(obj[key] !== 'function' && !isObject(obj[key])){\n            el[key] = obj[key];\n        }\n    });\n\n    if(parentNode){\n        parentNode.appendChild(el);\n    }\n\n    return el;\n}\n\n\n\nfunction appendChildren(el, children){\n    arrayFrom(children).forEach(child=>{\n        el.appendChild(toElement(child));\n    });\n    return el;\n}\n"],"names":["let","const"],"mappings":"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"}